"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ts = require("typescript");
var tsutils = require("tsutils");
function couldBeType(type, name) {
    if (isReferenceType(type)) {
        type = type.target;
    }
    if (isType(type, name)) {
        return true;
    }
    if (isUnionType(type)) {
        return type.types.some(function (t) { return couldBeType(t, name); });
    }
    var baseTypes = type.getBaseTypes();
    return Boolean(baseTypes) && baseTypes.some(function (t) { return couldBeType(t, name); });
}
exports.couldBeType = couldBeType;
function isReferenceType(type) {
    return tsutils.isTypeFlagSet(type, ts.TypeFlags.Object) &&
        tsutils.isObjectFlagSet(type, ts.ObjectFlags.Reference);
}
exports.isReferenceType = isReferenceType;
function isThis(node) {
    return node.kind === ts.SyntaxKind.ThisKeyword;
}
exports.isThis = isThis;
function isType(type, name) {
    if (!type.symbol) {
        return false;
    }
    return (typeof name === "string") ?
        (type.symbol.name === name) :
        Boolean(type.symbol.name.match(name));
}
exports.isType = isType;
function isUnionType(type) {
    return tsutils.isTypeFlagSet(type, ts.TypeFlags.Union);
}
exports.isUnionType = isUnionType;
